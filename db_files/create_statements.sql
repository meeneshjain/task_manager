SET SCHEMA "OPTIPRO_APS";

CREATE COLUMN TABLE "OPTM_APS_DEPARTMENTS" ("ID" INTEGER CS_INT GENERATED BY DEFAULT AS IDENTITY NOT NULL ,
	 "NAME" VARCHAR(200) NOT NULL ,
	 "DESCRIPTION" VARCHAR(200) NOT NULL ,
	 PRIMARY KEY ("ID")) UNLOAD PRIORITY 5 AUTO MERGE; 


CREATE COLUMN TABLE "OPTM_APS_DSHBD_SETTINGS" ("ID" INTEGER CS_INT GENERATED BY DEFAULT AS IDENTITY NOT NULL ,
	 "NAME" VARCHAR(150),
	 "VALUE" TEXT SYNC PHRASE INDEX RATIO 0.000000 FUZZY SEARCH INDEX OFF SEARCH ONLY OFF FAST PREPROCESS ON TEXT MINING OFF TEXT ANALYSIS OFF TOKEN SEPARATORS '\/;,.:-_()[]<>!?*@+{}="&#$~|',
	 "GROUP" VARCHAR(150),
	 PRIMARY KEY ("ID")) UNLOAD PRIORITY 5 AUTO MERGE; 

CREATE COLUMN TABLE "OPTM_APS_PRODOPER" ("OPER_ID" INTEGER CS_INT GENERATED BY DEFAULT AS IDENTITY NOT NULL ,
	 "REF_ID" INTEGER CS_INT NOT NULL ,
	 "DEPT_ID" NVARCHAR(100) NOT NULL ,
	 "PARENT_OPR_ID" NVARCHAR(100) NOT NULL ,
	 "OPERATION_TYPE" NVARCHAR(20) NOT NULL ,
	 "PROJECT_ID" NVARCHAR(20) NOT NULL ,
	 "CATEGORY" NVARCHAR(100) NOT NULL ,
	 "RESOURCE_ID" NVARCHAR(100) NOT NULL ,
	 "RESOURCE_NAME" NVARCHAR(100) NOT NULL ,
	 "OPERATION_NAME" NVARCHAR(100) NOT NULL ,
	 "DESCRIPTION" NVARCHAR(100) NOT NULL ,
	 "PRIORITY" INTEGER CS_INT NOT NULL ,
	 "READONLY" TINYINT CS_INT,
	 "STATUS" NVARCHAR(50) NOT NULL ,
	 "DURATION" NVARCHAR(50) NOT NULL ,
	 "MIN_DURATION" NVARCHAR(50) NOT NULL ,
	 "PROGRESS" DOUBLE CS_DOUBLE NOT NULL ,
	 "IS_DELETED" TINYINT CS_INT,
	 "SPLIT_TASK_GRP_ID" NVARCHAR(100),
	 "REQUIRED_RESOURCE" INTEGER CS_INT,
	 "PLANNED_START_DATE" DATE CS_DAYDATE,
	 "PLANNED_START_TIME" VARCHAR(150),
	 "PLANNED_END_DATE" DATE CS_DAYDATE,
	 "PLANNED_END_TIME" VARCHAR(150),
	 "START_DATE" DATE CS_DAYDATE,
	 "START_TIME" VARCHAR(150),
	 "END_DATE" DATE CS_DAYDATE,
	 "END_TIME" VARCHAR(150),
	 "DELAY_REASON" VARCHAR(150),
	 PRIMARY KEY ("OPER_ID")) UNLOAD PRIORITY 5 AUTO MERGE; 


CREATE COLUMN TABLE "OPTM_APS_PRODOPER_LINKS" ("OPR_LINK_ID" INTEGER CS_INT GENERATED BY DEFAULT AS IDENTITY NOT NULL ,
	 "REF_ID" VARCHAR(100) NOT NULL ,
	 "PRED_TASK_ID" VARCHAR(20) NOT NULL ,
	 "SUCC_TASK_ID" VARCHAR(20) NOT NULL ,
	 "CONNECTION_TYPE" VARCHAR(20) NOT NULL ,
	 PRIMARY KEY ("OPR_LINK_ID")) UNLOAD PRIORITY 5 AUTO MERGE; 



CREATE COLUMN TABLE "OPTM_APS_PROJECTS" ("ID" INTEGER CS_INT GENERATED BY DEFAULT AS IDENTITY NOT NULL ,
	 "DEPT_ID" INTEGER CS_INT,
	 "CODE" VARCHAR(200) NOT NULL ,
	 "NAME" VARCHAR(200),
	 "PARENT_PROJECT_ID" INTEGER CS_INT,
	 "STATUS" INTEGER CS_INT,
	 PRIMARY KEY ("ID")) UNLOAD PRIORITY 5 AUTO MERGE; 


CREATE COLUMN TABLE "OPTM_APS_RESOURCES" ("ID" INTEGER CS_INT GENERATED BY DEFAULT AS IDENTITY NOT NULL ,
	 "DEPT_ID" VARCHAR(200) NOT NULL ,
	 "RES_NAME" VARCHAR(200) NOT NULL ,
	 "STATUS" INTEGER CS_INT,
	 PRIMARY KEY ("ID")) UNLOAD PRIORITY 5 AUTO MERGE; 


CREATE COLUMN TABLE "OPTM_APS_SCH_REF" ("OPTM_REF_ID" INTEGER CS_INT GENERATED BY DEFAULT AS IDENTITY NOT NULL ,
	 "OPTM_PLAN_NAME" VARCHAR(100) NOT NULL ,
	 "OPTM_FROM_DATE" LONGDATE CS_LONGDATE,
	 "OPTM_TO_DATE" LONGDATE CS_LONGDATE,
	 "OPTM_SCHEDULING_STATUS" VARCHAR(100),
	 "OPTM_IS_DELETED" TINYINT CS_INT,
	 "WORKING_DEPT" VARCHAR(200),
	 PRIMARY KEY ("OPTM_REF_ID")) UNLOAD PRIORITY 5 AUTO MERGE; 


CREATE COLUMN TABLE "OPTM_APS_USERS" ("ID" INTEGER CS_INT GENERATED BY DEFAULT AS IDENTITY NOT NULL ,
	 "USERCODE" NVARCHAR(200) NOT NULL ,
	 "FULL_NAME" NVARCHAR(200) NOT NULL ,
	 "PASSWORD" NVARCHAR(200),
	 "IS_ADMIN" INTEGER CS_INT,
	 "STATUS" INTEGER CS_INT,
	 "DEPT_ID" INTEGER CS_INT,
	 PRIMARY KEY ("ID")) UNLOAD PRIORITY 5 AUTO MERGE; 